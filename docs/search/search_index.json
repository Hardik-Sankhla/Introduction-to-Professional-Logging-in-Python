{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Introduction to Professional Logging in Python","text":"<p>Welcome to this comprehensive guide on professional logging practices in Python. This documentation will help you understand how to implement effective logging in your Python applications.</p>"},{"location":"#what-youll-learn","title":"What You'll Learn","text":"<ul> <li>The importance of logging in software development</li> <li>Setting up basic logging configurations</li> <li>Advanced logging techniques and best practices</li> <li>Integrating logging with modern Python frameworks</li> <li>Troubleshooting and debugging with logs</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code>import logging\n\n# Configure logging\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\n# Create logger\nlogger = logging.getLogger(__name__)\n\n# Log messages\nlogger.info(\"Application started\")\nlogger.warning(\"This is a warning\")\nlogger.error(\"An error occurred\")\n</code></pre>"},{"location":"#table-of-contents","title":"Table of Contents","text":"<ul> <li>Getting Started</li> <li>Basic Logging</li> <li>Advanced Topics</li> <li>Best Practices</li> </ul> <p>This documentation is built with MkDocs and Material for MkDocs.</p>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"advanced-topics/","title":"Advanced Topics","text":""},{"location":"advanced-topics/#handlers","title":"Handlers","text":"<p>Handlers determine where log messages are sent. Common handlers include:</p>"},{"location":"advanced-topics/#streamhandler-console","title":"StreamHandler (Console)","text":"<pre><code>import logging\nimport sys\n\nhandler = logging.StreamHandler(sys.stdout)\nlogger.addHandler(handler)\n</code></pre>"},{"location":"advanced-topics/#filehandler","title":"FileHandler","text":"<pre><code>handler = logging.FileHandler('app.log')\nlogger.addHandler(handler)\n</code></pre>"},{"location":"advanced-topics/#rotatingfilehandler","title":"RotatingFileHandler","text":"<pre><code>from logging.handlers import RotatingFileHandler\n\nhandler = RotatingFileHandler(\n    'app.log',\n    maxBytes=1024*1024,  # 1MB\n    backupCount=5\n)\nlogger.addHandler(handler)\n</code></pre>"},{"location":"advanced-topics/#formatters","title":"Formatters","text":"<p>Formatters control the appearance of log messages.</p> <pre><code>formatter = logging.Formatter(\n    '%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\nhandler.setFormatter(formatter)\n</code></pre>"},{"location":"advanced-topics/#filters","title":"Filters","text":"<p>Filters allow you to control which log records are processed.</p> <pre><code>class LevelFilter(logging.Filter):\n    def __init__(self, level):\n        self.level = level\n\n    def filter(self, record):\n        return record.levelno &gt;= self.level\n\n# Only log WARNING and above\nfilter = LevelFilter(logging.WARNING)\nhandler.addFilter(filter)\n</code></pre>"},{"location":"advanced-topics/#configuration-files","title":"Configuration Files","text":"<p>For complex applications, use configuration files:</p>"},{"location":"advanced-topics/#using-dictconfig","title":"Using dictConfig","text":"<pre><code>import logging.config\n\nconfig = {\n    'version': 1,\n    'formatters': {\n        'detailed': {\n            'format': '%(asctime)s %(name)-15s %(levelname)-8s %(message)s'\n        }\n    },\n    'handlers': {\n        'console': {\n            'class': 'logging.StreamHandler',\n            'level': 'INFO',\n            'formatter': 'detailed'\n        },\n        'file': {\n            'class': 'logging.FileHandler',\n            'filename': 'app.log',\n            'level': 'DEBUG',\n            'formatter': 'detailed'\n        }\n    },\n    'root': {\n        'level': 'DEBUG',\n        'handlers': ['console', 'file']\n    }\n}\n\nlogging.config.dictConfig(config)\n</code></pre>"},{"location":"advanced-topics/#logging-in-multi-threaded-applications","title":"Logging in Multi-threaded Applications","text":"<p>Python's logging is thread-safe, but be careful with shared handlers:</p> <pre><code>import threading\nimport logging\n\nlogging.basicConfig(level=logging.INFO)\n\ndef worker():\n    logger = logging.getLogger(threading.current_thread().name)\n    logger.info(\"Worker started\")\n\nthreads = []\nfor i in range(5):\n    t = threading.Thread(target=worker, name=f'Worker-{i}')\n    threads.append(t)\n    t.start()\n\nfor t in threads:\n    t.join()\n</code></pre>"},{"location":"advanced-topics/#performance-considerations","title":"Performance Considerations","text":"<ul> <li>Use lazy formatting: <code>logger.debug('Value: %s', expensive_function())</code></li> <li>Set appropriate log levels to avoid unnecessary processing</li> <li>Use asynchronous logging for high-performance applications</li> </ul>"},{"location":"advanced-topics/#next-steps","title":"Next Steps","text":"<p>Check out Best Practices for professional logging guidelines.</p>"},{"location":"basic-logging/","title":"Basic Logging","text":""},{"location":"basic-logging/#log-levels","title":"Log Levels","text":"<p>Python's logging module defines several log levels:</p> Level Numeric Value Description DEBUG 10 Detailed information for debugging INFO 20 General information about program execution WARNING 30 Indication of potential problems ERROR 40 Errors that don't stop the program CRITICAL 50 Serious errors that may stop the program"},{"location":"basic-logging/#configuring-logging","title":"Configuring Logging","text":""},{"location":"basic-logging/#basic-configuration","title":"Basic Configuration","text":"<pre><code>import logging\n\nlogging.basicConfig(\n    level=logging.DEBUG,\n    format='%(levelname)s:%(name)s:%(message)s'\n)\n</code></pre>"},{"location":"basic-logging/#advanced-configuration","title":"Advanced Configuration","text":"<pre><code>import logging\n\nlogging.basicConfig(\n    filename='app.log',\n    filemode='w',\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n    datefmt='%Y-%m-%d %H:%M:%S'\n)\n</code></pre>"},{"location":"basic-logging/#creating-loggers","title":"Creating Loggers","text":"<pre><code># Get logger for current module\nlogger = logging.getLogger(__name__)\n\n# Get logger with specific name\nlogger = logging.getLogger('my_app.database')\n</code></pre>"},{"location":"basic-logging/#logging-messages","title":"Logging Messages","text":"<pre><code>logger.debug('Debug message')\nlogger.info('Info message')\nlogger.warning('Warning message')\nlogger.error('Error message')\nlogger.critical('Critical message')\n</code></pre>"},{"location":"basic-logging/#formatting","title":"Formatting","text":""},{"location":"basic-logging/#format-string-parameters","title":"Format String Parameters","text":"<ul> <li><code>%(asctime)s</code> - Timestamp</li> <li><code>%(name)s</code> - Logger name</li> <li><code>%(levelname)s</code> - Log level</li> <li><code>%(message)s</code> - Log message</li> <li><code>%(filename)s</code> - Filename</li> <li><code>%(lineno)d</code> - Line number</li> <li><code>%(funcName)s</code> - Function name</li> </ul>"},{"location":"basic-logging/#example-format","title":"Example Format","text":"<pre><code>'%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n</code></pre> <p>Output: <code>2023-12-01 10:30:45 - my_module - INFO - Application started</code></p>"},{"location":"basic-logging/#next-steps","title":"Next Steps","text":"<p>Learn about Advanced Topics like handlers, formatters, and filters.</p>"},{"location":"best-practices/","title":"Best Practices","text":""},{"location":"best-practices/#general-guidelines","title":"General Guidelines","text":""},{"location":"best-practices/#1-use-appropriate-log-levels","title":"1. Use Appropriate Log Levels","text":"<ul> <li>DEBUG: Detailed information for developers</li> <li>INFO: General information about application flow</li> <li>WARNING: Potential problems that don't stop execution</li> <li>ERROR: Errors that affect functionality</li> <li>CRITICAL: Serious errors that may crash the application</li> </ul>"},{"location":"best-practices/#2-be-descriptive","title":"2. Be Descriptive","text":"<pre><code># Bad\nlogger.info(\"Error\")\n\n# Good\nlogger.error(\"Failed to connect to database: %s\", str(e))\n</code></pre>"},{"location":"best-practices/#3-use-structured-logging","title":"3. Use Structured Logging","text":"<pre><code># Instead of\nlogger.info(\"User %s logged in from %s\", user_id, ip_address)\n\n# Consider\nlogger.info(\"User login successful\", extra={\n    'user_id': user_id,\n    'ip_address': ip_address,\n    'timestamp': datetime.now().isoformat()\n})\n</code></pre>"},{"location":"best-practices/#4-avoid-logging-sensitive-information","title":"4. Avoid Logging Sensitive Information","text":"<pre><code># Bad\nlogger.info(\"User password: %s\", password)\n\n# Good\nlogger.info(\"User authentication successful for user: %s\", user_id)\n</code></pre>"},{"location":"best-practices/#configuration-best-practices","title":"Configuration Best Practices","text":""},{"location":"best-practices/#1-configure-logging-early","title":"1. Configure Logging Early","text":"<p>Set up logging as one of the first things in your application:</p> <pre><code>import logging\nimport logging.config\n\n# Configure logging first\nlogging.config.dictConfig(LOGGING_CONFIG)\n\n# Then import other modules\nimport my_module\n</code></pre>"},{"location":"best-practices/#2-use-hierarchical-loggers","title":"2. Use Hierarchical Loggers","text":"<pre><code># Good structure\nroot_logger = logging.getLogger()\napp_logger = logging.getLogger('myapp')\ndb_logger = logging.getLogger('myapp.database')\napi_logger = logging.getLogger('myapp.api')\n</code></pre>"},{"location":"best-practices/#3-set-log-levels-appropriately","title":"3. Set Log Levels Appropriately","text":"<pre><code># Development\nlogging.getLogger().setLevel(logging.DEBUG)\n\n# Production\nlogging.getLogger().setLevel(logging.INFO)\n</code></pre>"},{"location":"best-practices/#exception-handling","title":"Exception Handling","text":""},{"location":"best-practices/#1-log-exceptions-properly","title":"1. Log Exceptions Properly","text":"<pre><code>try:\n    risky_operation()\nexcept Exception as e:\n    logger.error(\"Operation failed: %s\", str(e))\n    logger.debug(\"Exception details:\", exc_info=True)\n    raise\n</code></pre>"},{"location":"best-practices/#2-use-exc_info-for-tracebacks","title":"2. Use <code>exc_info</code> for Tracebacks","text":"<pre><code>import traceback\n\ntry:\n    # some code\n    pass\nexcept Exception as e:\n    logger.error(\"An error occurred: %s\", str(e))\n    logger.debug(\"Full traceback:\", exc_info=True)\n</code></pre>"},{"location":"best-practices/#performance","title":"Performance","text":""},{"location":"best-practices/#1-use-lazy-formatting","title":"1. Use Lazy Formatting","text":"<pre><code># Good - only formats if DEBUG level is enabled\nlogger.debug(\"Expensive data: %s\", expensive_computation())\n\n# Bad - always computes even if not logged\nlogger.debug(\"Expensive data: %s\" % expensive_computation())\n</code></pre>"},{"location":"best-practices/#2-check-log-levels-before-expensive-operations","title":"2. Check Log Levels Before Expensive Operations","text":"<pre><code>if logger.isEnabledFor(logging.DEBUG):\n    expensive_debug_data = compute_expensive_data()\n    logger.debug(\"Debug data: %s\", expensive_debug_data)\n</code></pre>"},{"location":"best-practices/#security","title":"Security","text":""},{"location":"best-practices/#1-sanitize-log-data","title":"1. Sanitize Log Data","text":"<pre><code>import re\n\ndef sanitize_log_message(message):\n    # Remove or mask sensitive patterns\n    message = re.sub(r'password=\\w+', 'password=***', message)\n    return message\n\nlogger.info(sanitize_log_message(user_input))\n</code></pre>"},{"location":"best-practices/#2-control-log-file-permissions","title":"2. Control Log File Permissions","text":"<pre><code>import os\n\n# Set restrictive permissions on log files\nos.chmod('app.log', 0o600)\n</code></pre>"},{"location":"best-practices/#monitoring-and-alerting","title":"Monitoring and Alerting","text":""},{"location":"best-practices/#1-log-key-metrics","title":"1. Log Key Metrics","text":"<pre><code>logger.info(\"Request processed\", extra={\n    'request_id': request_id,\n    'duration_ms': duration,\n    'status_code': status_code\n})\n</code></pre>"},{"location":"best-practices/#2-use-correlation-ids","title":"2. Use Correlation IDs","text":"<pre><code>import uuid\n\ncorrelation_id = str(uuid.uuid4())\nlogger = logging.LoggerAdapter(logger, {'correlation_id': correlation_id})\n</code></pre>"},{"location":"best-practices/#testing","title":"Testing","text":""},{"location":"best-practices/#1-test-logging-behavior","title":"1. Test Logging Behavior","text":"<pre><code>import unittest\nfrom unittest.mock import patch, MagicMock\n\nclass TestLogging(unittest.TestCase):\n    def test_error_logging(self):\n        with patch('logging.Logger.error') as mock_error:\n            # Code that should log an error\n            function_that_logs_error()\n            mock_error.assert_called_once_with(\"Expected error message\")\n</code></pre>"},{"location":"best-practices/#2-use-log-capture-for-testing","title":"2. Use Log Capture for Testing","text":"<pre><code>import logging\nfrom io import StringIO\n\ndef test_log_output(self):\n    log_stream = StringIO()\n    handler = logging.StreamHandler(log_stream)\n    logger.addHandler(handler)\n\n    # Code that logs\n    my_function()\n\n    log_output = log_stream.getvalue()\n    self.assertIn(\"Expected message\", log_output)\n</code></pre>"},{"location":"best-practices/#common-pitfalls-to-avoid","title":"Common Pitfalls to Avoid","text":"<ol> <li>Over-logging: Don't log everything - focus on important events</li> <li>Under-logging: Ensure critical errors and state changes are logged</li> <li>Inconsistent formatting: Use consistent log formats across your application</li> <li>Blocking operations: Avoid synchronous I/O in logging that could block your application</li> <li>Log injection: Sanitize user input in log messages</li> <li>Hardcoded paths: Use configurable log file locations</li> <li>Ignoring log rotation: Implement log rotation to prevent disk space issues</li> </ol>"},{"location":"best-practices/#tools-and-libraries","title":"Tools and Libraries","text":"<ul> <li>structlog: Structured logging for Python</li> <li>loguru: Python logging made (stupidly) simple</li> <li>sentry-sdk: Application monitoring and error tracking</li> <li>ELK Stack: Elasticsearch, Logstash, Kibana for log analysis</li> </ul>"},{"location":"best-practices/#conclusion","title":"Conclusion","text":"<p>Effective logging is a skill that improves with practice. Start with the basics, implement proper configuration, and gradually adopt advanced techniques as your application grows. Remember that logs are not just for debugging - they're also valuable for monitoring, auditing, and understanding your application's behavior in production.</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#why-logging-matters","title":"Why Logging Matters","text":"<p>Logging is crucial for:</p> <ul> <li>Debugging: Understanding what's happening in your application</li> <li>Monitoring: Tracking application health and performance</li> <li>Auditing: Keeping records of important events</li> <li>Troubleshooting: Identifying and resolving issues in production</li> </ul>"},{"location":"getting-started/#pythons-logging-module","title":"Python's Logging Module","text":"<p>Python provides a powerful built-in logging module that offers:</p> <ul> <li>Multiple log levels (DEBUG, INFO, WARNING, ERROR, CRITICAL)</li> <li>Flexible formatting options</li> <li>Log handlers for different outputs (console, files, network)</li> <li>Hierarchical loggers</li> <li>Thread-safe operations</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":"<p>No installation required! The <code>logging</code> module is part of Python's standard library.</p> <pre><code>import logging\n</code></pre>"},{"location":"getting-started/#basic-example","title":"Basic Example","text":"<pre><code>import logging\n\n# Set up basic configuration\nlogging.basicConfig(level=logging.INFO)\n\n# Get a logger\nlogger = logging.getLogger(__name__)\n\n# Log some messages\nlogger.debug(\"This is a debug message\")\nlogger.info(\"This is an info message\")\nlogger.warning(\"This is a warning\")\nlogger.error(\"This is an error\")\nlogger.critical(\"This is critical\")\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<p>Now that you understand the basics, let's dive deeper into Basic Logging.</p>"}]}